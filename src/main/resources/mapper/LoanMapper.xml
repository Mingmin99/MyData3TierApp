<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mydata.dao.LoanConditionMapper">

    <resultMap id="LoanConditionMap" type="com.example.mydata.dto.LoanCondition">
        <id property="id" column="id"/>
        <result property="userid" column="userid"/>
        <result property="loanType" column="loan_type"/>
        <result property="interestRate" column="interest_rate"/>
        <result property="loanAmount" column="loan_amount"/>
        <result property="term" column="term"/>
        <result property="status" column="status"/>
        <result property="createdAt" column="created_at" javaType="java.sql.Timestamp"/>
    </resultMap>

    <select id="getLoanConditionsByUserId" resultMap="LoanConditionMap" parameterType="String">
        SELECT
            id,
            userid,
            loan_type,
            interest_rate,
            loan_amount,
            term,
            status,
            created_at
        FROM
            LoanConditions
        WHERE
            userid = #{userid}
    </select>
</mapper>